{% extends "base.html" %}

{% block title %}Clients - SGT{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Clients</h2>
    <a href="{% url 'ajouter_client' %}" class="btn btn-primary">
        + Ajouter un client
    </a>
</div>

<table class="table table-striped table-bordered datatable">
    <thead class="table-light">
        <tr>
            <th>Nom & Prénom</th>
            <th>Téléphone</th>
            <th>Email</th>
            <th class="text-end">Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for c in clients %}
        <tr>
            <td>{{ c.last_name }} {{ c.first_name }}</td>
            <td>{{ c.telephone }}</td>
            <td>{{ c.email }}</td>
            <td class="text-end">
                <a href="{% url 'modifier_client' c.id %}"
                   class="btn btn-sm btn-warning">
                    Modifier
                </a>
                <a href="{% url 'supprimer_client' c.id %}"
                   class="btn btn-sm btn-danger"
                   onclick="return confirm('Supprimer ce client ?');">
                    Supprimer
                </a>
            </td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="4" class="text-center text-muted">
                Aucun client enregistré.
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}